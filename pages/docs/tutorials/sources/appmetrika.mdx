import asset from 'next/asset'
import { withDoc } from 'app/lib'
import { Alert, Tip, Info } from 'app/components'

export const meta = {
  title: 'Получение данных из AppMetrika',
}

## Webhook по событию

Для примера подключим получение данных о мобильных установках из Yandex.AppMetrica.
Адрес webhook-а "придумываем" на основе шаблона: 

```
https://поддомен.вашдомен/<service>/<name>/<project-id>
```

Кроме того, AppMetrika поддерживает макросы, достаточно подставить их в GET параметры запроса:
`https://поддомен.вашдомен/appmetrica/ios-install/99?={app_version_name}appmetrica_device_id={appmetrica_device_id}&limit_ad_tracking={limit_ad_tracking}&adwords_link_id={adwords_link_id}&google_aid={google_aid}&ios_ifa={ios_ifa}&ios_ifv={ios_ifv}&device_manufacturer={device_manufacturer}&device_model={device_model}&device_type={device_type}&device_locale={device_locale}&os_name={os_name}&os_version={os_version}&operator_name={operator_name}&mcc={mcc}&mnc={mnc}&click_id={click_id}&match_type={match_type}&transaction_id={transaction_id}&click_user_agent={click_user_agent}&click_timestamp={click_timestamp}&install_timestamp={install_timestamp}&click_timezone={click_timezone}&install_timezone={install_timezone}`

Теперь добавляем его в интерфейсе Yandex.AppMetrica в параметры трекера:

![app services start](/static/images/docs/guides/collecting/appmetrika/appmetrika-postback-url.png)

## Выгрузка из LogsApi

Coming...

## Обзор данных

Rockstat записывает все пришедшие данные, не зависимо от их структуры, поэтому вебхуки посылаемые appmetrika сразу появляются в базе данных

![app services start](/static/images/docs/overview/clickhouse-query-webhooks.png)

В платформу включено множество различных инструментов для получения и визуализации данных их ClickHouse,
показанная ранее консоль - это самый низкоуровневый из них.



export default withDoc({...meta})(({children}) => <>{children}</>)
